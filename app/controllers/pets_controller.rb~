class PetsController < ApplicationController
protect_from_forgery :except => :create 
wrap_parameters :pet, format: [:json]
def index
	@pets = Pet.all
	render json: @pets, root: false
end
def create
 @pet = Pet.create!(pet_params)
 @pet.pet_location = pet_params[:pet_location]
  if @pet.save
    render json: @pet.id, root: false
  end	
end

def pet_params
	#params.require(:pet).permit!
	params.require(:pet).permit(:image_url, :thumb_url, :species_id, :breed_id, :reward, :notes, :contact_name, :contact_detail, :contact_type, :name, :lost, :color_ids, :pet_location => [:suburb, :longitude, :latitude])
end


end
